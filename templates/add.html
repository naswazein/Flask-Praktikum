{% extends 'layout.html' %}

{% block content %}
    <section class="form-container">
        <h2>Add New Skincare Product</h2>
        <form method="POST" action="{{ url_for('add_product') }}" enctype="multipart/form-data">
            <div class="form-group">
                <label for="name">Product Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" required></textarea>
            </div>
            <div class="form-group">
                <label for="price">Price</label>
                <input type="number" id="price" name="price" step="0.01" min="0" required>
            </div>
            <div class="form-group">
                <label for="image">Product Image</label>
                <input type="file" id="image" name="image" accept="image/*">
                <div class="file-info">
                    <p>Supported formats: JPG, JPEG, PNG, GIF</p>
                    <p>Maximum size: 16MB</p>
                </div>
                <div class="image-preview-container">
                    <img id="image-preview" src="#" alt="Image Preview" style="display: none; max-width: 100%; max-height: 200px;">
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn">Add Product</button>
                <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </section>

    <script>
        // Image preview functionality
        document.getElementById('image').addEventListener('change', function(event) {
            const preview = document.getElementById('image-preview');
            const file = event.target.files[0];
            
            if (file) {
                preview.src = URL.createObjectURL(file);
                preview.style.display = 'block';
            } else {
                preview.src = '#';
                preview.style.display = 'none';
            }
        });
    </script>
{% endblock %}